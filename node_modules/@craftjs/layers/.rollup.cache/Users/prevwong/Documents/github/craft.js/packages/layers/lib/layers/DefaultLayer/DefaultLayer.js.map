{"version":3,"file":"DefaultLayer.js","sourceRoot":"","sources":["../../../src/layers/DefaultLayer/DefaultLayer.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAC1C,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,MAAM,MAAM,mBAAmB,CAAC;AAEvC,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAE1D,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAEvC,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAI7B;gBACc,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC;;oBAElD,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAC3E,CAAC;AAEF,MAAM,aAAa,GAAG,MAAM,CAAC,GAAG,CAA0B;kBACxC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,CAAC,KAAK,EAAE,EAAE,CACtB,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAAC,aAAa;;;IAG/D,CAAC,KAAK,EAAE,EAAE,CACV,KAAK,CAAC,WAAW;IACf,CAAC,CAAC;;;;;;;;;;;;;;;;GAgBL;IACG,CAAC,CAAC,EAAE;CACT,CAAC;AAEF,MAAM,CAAC,MAAM,YAAY,GAAa,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE;IACrD,MAAM,EACJ,EAAE,EACF,QAAQ,EACR,OAAO,EACP,UAAU,EAAE,EAAE,KAAK,EAAE,GACtB,GAAG,QAAQ,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QACvB,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;QAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;KACzB,CAAC,CAAC,CAAC;IACJ,MAAM,EAAE,gBAAgB,EAAE,GAAG,SAAS,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;QACtD,OAAO;YACL,gBAAgB,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,uBAAuB,EAAE;SAC3D,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,OAAO,CACL,oBAAC,YAAY,IACX,GAAG,EAAE,KAAK,EACV,QAAQ,EAAE,QAAQ,EAClB,WAAW,EAAE,gBAAgB,EAC7B,OAAO,EAAE,OAAO;QAEhB,oBAAC,kBAAkB,OAAG;QACrB,QAAQ,CAAC,CAAC,CAAC,CACV,oBAAC,aAAa,IACZ,WAAW,EAAE,gBAAgB,EAC7B,SAAS,EAAC,sBAAsB,IAE/B,QAAQ,CACK,CACjB,CAAC,CAAC,CAAC,IAAI,CACK,CAChB,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { useEditor } from '@craftjs/core';\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { DefaultLayerHeader } from './DefaultLayerHeader';\n\nimport { useLayer } from '../useLayer';\n\nconst LayerNodeDiv = styled.div<{\n  expanded: boolean;\n  hasCanvases: boolean;\n  hovered: boolean;\n}>`\n  background: ${(props) => (props.hovered ? '#f1f1f1' : 'transparent')};\n  display: block;\n  padding-bottom: ${(props) => (props.hasCanvases && props.expanded ? 5 : 0)}px;\n`;\n\nconst LayerChildren = styled.div<{ hasCanvases: boolean }>`\n  margin: 0 0 0 ${(props) => (props.hasCanvases ? 35 : 0)}px;\n  background: ${(props) =>\n    props.hasCanvases ? 'rgba(255, 255, 255, 0.02)' : 'transparent'};\n  position: relative;\n\n  ${(props) =>\n    props.hasCanvases\n      ? `\n  \n  box-shadow: 0px 0px 44px -1px #00000014;\n  border-radius: 10px;\n  margin-right: 5px;\n  margin-bottom:5px;\n  margin-top:5px; \n  > * { overflow:hidden; }\n    &:before { \n      position:absolute;\n      left:-19px;\n      width: 2px;\n      height:100%;\n      content: \" \";\n      background:#00000012;\n    }\n  `\n      : ''}\n`;\n\nexport const DefaultLayer: React.FC = ({ children }) => {\n  const {\n    id,\n    expanded,\n    hovered,\n    connectors: { layer },\n  } = useLayer((layer) => ({\n    hovered: layer.event.hovered,\n    expanded: layer.expanded,\n  }));\n  const { hasChildCanvases } = useEditor((state, query) => {\n    return {\n      hasChildCanvases: query.node(id).isParentOfTopLevelNodes(),\n    };\n  });\n\n  return (\n    <LayerNodeDiv\n      ref={layer}\n      expanded={expanded}\n      hasCanvases={hasChildCanvases}\n      hovered={hovered}\n    >\n      <DefaultLayerHeader />\n      {children ? (\n        <LayerChildren\n          hasCanvases={hasChildCanvases}\n          className=\"craft-layer-children\"\n        >\n          {children}\n        </LayerChildren>\n      ) : null}\n    </LayerNodeDiv>\n  );\n};\n"]}