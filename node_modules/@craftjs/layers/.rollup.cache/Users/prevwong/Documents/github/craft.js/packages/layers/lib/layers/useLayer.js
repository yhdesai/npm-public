import { useEditor } from '@craftjs/core';
import { useContext, useMemo } from 'react';
import { LayerContext } from './LayerContext';
import { useLayerManager } from '../manager';
export function useLayer(collect) {
    const { id, depth, connectors } = useContext(LayerContext);
    const { actions: managerActions, ...collected } = useLayerManager((state) => {
        return id && state.layers[id] && collect && collect(state.layers[id]);
    });
    const { children } = useEditor((state, query) => ({
        children: state.nodes[id] && query.node(id).descendants(),
    }));
    const actions = useMemo(() => {
        return {
            toggleLayer: () => managerActions.toggleLayer(id),
        };
    }, [managerActions, id]);
    return {
        id,
        depth,
        children,
        actions,
        connectors,
        ...collected,
    };
}
//# sourceMappingURL=useLayer.js.map